function setup(){createCanvas(710,400,WEBGL).parent("noisy spin demo");var s=-2*(mouseY/height-.5),n=2*(mouseX/width-.5);ambientLight(100,80,80),pointLight(200,200,200,n,s,0);for(var e=0;num_points>e;e++){var a=.5,i=-.5,r=.5,o=sqrt(a*a+i*i+r*r);xs[e]=sphere_size*a/o,ys[e]=sphere_size*i/o,zs[e]=sphere_size*r/o,omegas[e]=.02,angleXs[e]=0,angleYs[e]=0,angleZs[e]=0}}function draw(){background(34,34,34),ambientMaterial(250),sphere(sphere_size,100,100);for(var s=noise_amp*randomGaussian(),n=noise_amp*randomGaussian(),e=noise_amp*randomGaussian(),a=0;num_points>a;a++){xs[a]+=(n+omegas[a])*zs[a]-e*ys[a],ys[a]+=e*xs[a]-s*zs[a],zs[a]+=s*ys[a]-(n+omegas[a])*xs[a];var i=sqrt(xs[a]*xs[a]+ys[a]*ys[a]+zs[a]*zs[a]);xs[a]=sphere_size*xs[a]/i,ys[a]=sphere_size*ys[a]/i,zs[a]=sphere_size*zs[a]/i,push(),translate(xs[a],ys[a],zs[a]),fill(244,0,244),sphere(point_size,5,5),pop()}}function mouseDragged(){noise_amp=.01}function mouseClicked(){var s=randomGaussian(),n=randomGaussian(),e=randomGaussian(),a=sqrt(s*s+n*n+e*e);xs[num_points]=sphere_size*s/a,ys[num_points]=sphere_size*n/a,zs[num_points]=sphere_size*e/a,omegas[num_points]=.001*randomGaussian(),num_points+=1}var sphere_size=150,point_size=5,num_points=1,noise_amp=0,xs=new Array(num_points),ys=new Array(num_points),zs=new Array(num_points),angleXs=new Array(num_points),angleYs=new Array(num_points),angleZs=new Array(num_points),omegas=new Array(num_points);